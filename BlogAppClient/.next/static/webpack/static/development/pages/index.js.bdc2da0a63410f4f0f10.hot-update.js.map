{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.bdc2da0a63410f4f0f10.hot-update.js","sources":["webpack:///./components/Index/content/middleContent.js"],"sourcesContent":["import React from \"react\";\r\nimport less from \"./style.less\";\r\nimport ArticleItem from \"./articleItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Query } from \"react-apollo\";\r\nimport { connect } from \"react-redux\";\r\nimport { QUERY_ARTICLE_BY_CLASSIFY } from \"GQL/Query\";\r\nimport { ArticleLading } from \"../loading/loading\";\r\nimport Router from \"next/router\";\r\n\r\nconst QueryArticle = props => (\r\n  <Query query={ QUERY_ARTICLE_BY_CLASSIFY() } variables={ { classify: props.classify } }>\r\n    {\r\n      ({ loading, error, data: { article } }) => {\r\n        if (loading) return <ArticleLading/>;\r\n        if (error) return \"error\";\r\n        return (\r\n          <ul>\r\n            {\r\n              article.sort((a,b) => parseInt(b.publishTime) - parseInt(a.publishTime)).map((v, i) => <li key={ i }>\r\n                <ArticleItem\r\n                  user={ {\r\n                    nickname: v.nickname,\r\n                    picture: v.picture,\r\n                    userId: v.userId\r\n                  } }\r\n                  article={ Object.assign({ ...v }, {\r\n                    level: 4,\r\n                  }) }\r\n                  onClick={ () => Router.push({\r\n                    pathname: \"/view\",\r\n                    query: {id : v.id}\r\n                  }) }\r\n                />\r\n              </li>)\r\n            }\r\n          </ul>\r\n        )\r\n      }\r\n    }\r\n  </Query>\r\n);\r\nQueryArticle.propTypes = {\r\n  classify: PropTypes.string\r\n};\r\n\r\nconst MiddleContent = props => {\r\n  return (\r\n    <div className={ less[\"middle-content\"] }>\r\n      <div className={ less.article }>\r\n        <QueryArticle classify={ props.classify }/>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nMiddleContent.propTypes = {\r\n  classify: PropTypes.object\r\n};\r\n\r\nexport default MiddleContent;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAmBA;AA5BA;AACA;AA+BA;AACA;AADA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AADA;AAIA;;;;A","sourceRoot":""}