{"version":3,"file":"static/webpack/static\\development\\pages\\view.js.510111a0205bf1f8b133.hot-update.js","sources":["webpack:///./components/View/toolBox.js","webpack:///./components/View/viewArticle.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport less from \"./style.less\";\r\nimport Button from \"components/app/button/articleButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { LIKE_ARTICLE } from \"GQL/Mutation\";\r\nimport gqlClient from \"GQL/GraphQL\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ToolBox extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.handleLike = this.handleLike.bind(this);\r\n  }\r\n\r\n  handleLike () {\r\n    gqlClient.mutate({\r\n      mutation: LIKE_ARTICLE(),\r\n      variables: { id: this.props.articleId }\r\n    }).then(() => {\r\n\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { userState: { isLogin }, likeNumber, collectionNumber, shareNumber, commentNumber } = this.props;\r\n    return (\r\n      <div className={ less[\"tool-box\"] }>\r\n        {\r\n          isLogin ? <ul>\r\n            <li>\r\n              <Button currentNumber={ likeNumber }\r\n                      disabled={ false }\r\n                      icon=\"fa fa-thumbs-up\"\r\n                      onClick={ this.handleLike }\r\n\r\n              />\r\n            </li>\r\n            <li>\r\n              <Button currentNumber={ collectionNumber }\r\n                      disabled={ false }\r\n                      icon=\"fa fa-star\"\r\n                      onClick={ () => this.setState(state => ({ number: state.number + 1 })) }\r\n                      style={ \"style2\" }\r\n              />\r\n            </li>\r\n            <li>\r\n              <Button currentNumber={ commentNumber }\r\n                      disabled={ false }\r\n                      icon=\"fa fa-comment-alt\"\r\n                      onClick={ () => this.setState(state => ({ number: state.number + 1 })) }\r\n                      style={ \"style3\" }\r\n              />\r\n            </li>\r\n            <li className={ less.share }>\r\n              SHARE\r\n            </li>\r\n            <li>\r\n              <Button currentNumber={ shareNumber }\r\n                      disabled={ false }\r\n                      icon=\"fa fa-share-square\"\r\n                      onClick={ () => this.setState(state => ({ number: state.number + 1 })) }\r\n                      style={ \"style4\" }\r\n                      noTip\r\n              />\r\n            </li>\r\n            <li>\r\n              <Button currentNumber={ this.state.number }\r\n                      disabled={ false }\r\n                      icon=\"fa fa-question\"\r\n                      onClick={ () => this.setState(state => ({ number: state.number + 1 })) }\r\n                      style={ \"style5\" }\r\n                      noTip\r\n              />\r\n            </li>\r\n          </ul> : \"\"\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nToolBox.propTypes = {\r\n  userState: PropTypes.object,\r\n  likeNumber: PropTypes.number,\r\n  commentNumber: PropTypes.number,\r\n  collectionNumber: PropTypes.number,\r\n  shareNumber: PropTypes.number,\r\n  articleId: PropTypes.string\r\n};\r\nexport default connect(state => ({\r\n  userState: state.user\r\n}))(ToolBox)","import React, { Component, Fragment } from \"react\";\r\nimport less from \"./style.less\";\r\nimport ToolButton from \"components/app/toolButton/toolButton\";\r\nimport Article from \"./article\";\r\nimport { withRouter } from \"next/router\";\r\nimport { QUERY_ARTICLE_AND_COMMENT_BY_ID } from \"GQL/Query\";\r\nimport { Query } from \"react-apollo\";\r\nimport UserInfo from \"./userInfo\";\r\nimport ToolBox from \"./toolBox\";\r\nimport Loading from \"./loading\";\r\n\r\nclass ViewBlog extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n  render () {\r\n\r\n    return (\r\n      <div className={ less[\"view-blog\"] }>\r\n        <Query query={ QUERY_ARTICLE_AND_COMMENT_BY_ID() }\r\n               variables={ { id: this.props.router.query.id } }\r\n        >\r\n          {\r\n            ({ loading, err, data: { articleById, commentByArticleId } }) => {\r\n              if (loading) return <Loading/>;\r\n              if (err) return \"err\";\r\n\r\n              return (\r\n                <Fragment>\r\n                  <div className={ less.left }>\r\n                    <ToolBox { ...articleById } articleId={ this.props.router.query.id }/>\r\n                  </div>\r\n                  <div className={ less.middle }>\r\n                    <Article articleState={ Object.assign(articleById, { articleId: this.props.router.query.id }) }\r\n                             comments={ commentByArticleId }\r\n                    />\r\n                  </div>\r\n                  <div className={ less.right }>\r\n                    <UserInfo userState={\r\n                      articleById\r\n                    }/>\r\n                  </div>\r\n                  <ToolButton/>\r\n                </Fragment>\r\n              )\r\n\r\n            }\r\n          }\r\n        </Query>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(ViewBlog);\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAMA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;AAtEA;AACA;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AACA;AADA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AAEA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAKA;;;;AA1CA;AACA;AA6CA;;;;A","sourceRoot":""}